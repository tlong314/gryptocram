;var Gryptocram=function(){var e={},t={},n="",r=[],o=0,l="",d=document.body,a=!1,s=window.location.pathname.substr(window.location.pathname.lastIndexOf("/")+1,window.location.pathname.lastIndexOf(".html")-1-window.location.pathname.lastIndexOf("/"))+"-",u="KeyboardEvent"in window?!1:!0,c={answer:"",encodedAnswer:"",encoding:{A:"C",B:"Y",C:"M",D:"H",E:"X",F:"U",G:"W",H:"V",I:"Z",J:"T",K:"S",L:"R",M:"O",N:"F",O:"P",P:"N",Q:"L",R:"J",S:"I",T:"Q",U:"K",V:"G",W:"D",X:"B",Y:"E",Z:"A"},host:d},p=function(o){for(var l in c)o[l]=o[l]||c[l];d=o.host,n=o.answer.toUpperCase(),r=n.replace(/[^A-Za-z]/g,"").split(""),e=o.encoding?o.encoding:this.getEncodingFromString(o.encodedAnswer.replace(/[^A-Za-z]/g,"").split(""));for(var l in e)t[e[l]]=l;return this.renderBoard(),this.loadPuzzle(),this};p.prototype.constructor=p,p.prototype.getEncodingFromString=function(e){for(var t=new Object,n=0,o=r.length;o>n;n++)t[r[n]]=e[n];return t},p.prototype.renderBoard=function(){for(var t=n.split(/_|\s/g),r=[],l=0,i=t.length;i>l;l++){var a=t[l].split(""),s=document.createElement("DIV");s.className="word_div";for(var u=0,c=a.length;c>u;u++){var p=document.createElement("DIV"),g=document.createElement("SPAN"),v=document.createElement("BR"),f=document.createElement("INPUT"),I=null;p.className="letter_div",f.type="text",f.size="1",f.maxLength="1",f.style.borderBottom="1px solid black",f.className="letterInputs encoded"+a[u],r.push(f),null!==a[u].match(/[A-Za-z]{1}/)?(f.id="letterInput"+o,o++,I=document.createTextNode(e[a[u]]),g.className="overline",p.appendChild(f),p.appendChild(v)):I=document.createTextNode(a[u]),g.appendChild(I),p.appendChild(g),s.appendChild(p)}d.appendChild(s)}d.appendChild(document.createElement("BR"));var E=document.createElement("DIV");E.style.width="100%",E.style.marginBottom=E.style.marginTop="15px";var B=document.createElement("BUTTON");B.type="button";var C=document.createTextNode("Start Over");B.appendChild(C),B.id="clearBtn",B.title="Erase entries",E.appendChild(B);var w=document.createElement("BUTTON");w.type="button";var S=document.createTextNode("See Answer");w.appendChild(S),w.id="showBtn",w.title="Giving up so easily?",E.appendChild(w),d.appendChild(E);for(var l=r.length;l--;)m(r[l].id,this);return y("clearBtn",this),h("showBtn",this),this};var m=function(e,t){null!=document.getElementById(e)?u?document.getElementById(e).addEventListener("input",g,!1):(document.getElementById(e).addEventListener("keydown",function(e){l=this.value,e.keyCode>=65&&e.keyCode<=90&&(this.value="")},!1),document.getElementById(e).addEventListener("keyup",g,!1)):setTimeout(function(){m(e,t)},200)},y=function(e,t){null!=document.getElementById(e)?document.getElementById(e).addEventListener("click",t.clearEntries.bind(t),!1):setTimeout(function(){y(e,t)},200)},h=function(e,t){null!=document.getElementById(e)?document.getElementById(e).addEventListener("click",t.solvePuzzle.bind(t),!1):setTimeout(function(){h(e,t)},200)},g=function(e){for(var t=this.value,n=document.querySelectorAll("."+this.className.split(" ")[1]),r=0,o=n.length;o>r;r++)n[r].value=t.toUpperCase();p.prototype.savePuzzle(),e.keyCode>=65&&e.keyCode<=90||32==e.keyCode||13==e.keyCode||39==e.keyCode?p.prototype.advancePosition.call(this):37==e.keyCode&&p.prototype.reversePosition.call(this),p.prototype.isComplete()?(p.prototype.endPuzzle(),a=!0):a&&(p.prototype.clearHighlights(),a=!1)};return p.prototype.advancePosition=function(){return parseInt(this.id.substr(11),10)+1==o?(document.getElementById("letterInput0").focus(),document.getElementById("letterInput0").select()):(document.getElementById("letterInput"+(parseInt(this.id.substr(11),10)+1)).focus(),document.getElementById("letterInput"+(parseInt(this.id.substr(11),10)+1)).select()),this},p.prototype.reversePosition=function(){return 0==parseInt(this.id.substr(11),10)?(document.getElementById("letterInput"+(o-1)).focus(),document.getElementById("letterInput"+(o-1)).select()):(document.getElementById("letterInput"+(parseInt(this.id.substr(11),10)-1)).focus(),document.getElementById("letterInput"+(parseInt(this.id.substr(11),10)-1)).select()),this},p.prototype.solvePuzzle=function(){for(var e=d.querySelectorAll("input[type='text']"),t=0,n=e.length;n>t;t++)e[t].value=r[t];return this.endPuzzle(),this},p.prototype.isComplete=function(){for(var e=d.querySelectorAll("input[type='text']"),t=0,n=e.length;n>t;t++)if(e[t].value!=r[t])return!1;return!0},p.prototype.endPuzzle=function(){for(var e=d.querySelectorAll("input[type='text']"),t=0,n=e.length;n>t;t++)e[t].style.backgroundColor="yellow";for(var r=d.querySelectorAll(".overline"),t=0,n=r.length;n>t;t++)r[t].style.backgroundColor="#DDD";for(var o=d.querySelectorAll(".letter_div"),t=0,n=o.length;n>t;t++)o[t].classList.remove("letter_div"),o[t].classList.add("marginLess");return document.getElementById("showBtn").disabled=!0,this},p.prototype.clearHighlights=function(){for(var e=d.querySelectorAll("input[type='text']"),t=0,n=e.length;n>t;t++)e[t].style.backgroundColor="initial";for(var r=d.querySelectorAll(".overline"),t=0,n=r.length;n>t;t++)r[t].style.backgroundColor="initial";for(var o=d.querySelectorAll(".marginLess"),t=0,n=o.length;n>t;t++)o[t].classList.remove("marginLess"),o[t].classList.add("letter_div");return document.getElementById("showBtn").disabled=!1,this},p.prototype.clearEntries=function(){for(var e=d.querySelectorAll("input[type='text']"),t=0,n=e.length;n>t;t++)e[t].value="";for(t=0,n=r.length;n>t;t++)localStorage.setItem(s+"enteredLetters["+t+"]","");return this.clearHighlights(),this},p.prototype.loadPuzzle=function(){var e=d.querySelectorAll("input[type='text']");if(window.localStorage)for(i=0,len=e.length;i<len;i++)localStorage.getItem(s+"enteredLetters["+i+"]")?e[i].value=localStorage.getItem(s+"enteredLetters["+i+"]"):e[i].value="";return this},p.prototype.savePuzzle=function(){var e=d.querySelectorAll("input[type='text']");if(window.localStorage)for(i=0,len=r.length;i<len;i++)localStorage.setItem(s+"enteredLetters["+i+"]",e[i].value);return this},p}();